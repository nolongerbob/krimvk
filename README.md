# КрымВК - Сайт водоканала

Современный веб-сайт для водоканала Крыма с личным кабинетом и полным набором услуг.

## Технологии

- **Next.js 14** - React фреймворк с App Router
- **TypeScript** - Типизированный JavaScript
- **Prisma** - ORM для работы с PostgreSQL
- **PostgreSQL** - Реляционная база данных
- **Tailwind CSS** - Utility-first CSS фреймворк
- **shadcn/ui** - Компоненты UI на базе Radix UI
- **Zod** - Валидация схем
- **bcryptjs** - Хеширование паролей
- **Jose** - JWT токены

## Функциональность

### Публичные страницы
- Главная страница с информацией о водоканале
- Страница услуг с описанием всех доступных услуг
- Страницы авторизации и регистрации

### Личный кабинет
- Дашборд с общей информацией
- Подача показаний счетчиков воды
- Просмотр и оплата счетов
- Управление заявками на услуги
- История операций

### База данных
- Пользователи и аутентификация
- Услуги водоканала
- Заявки на услуги
- Счета за водоснабжение
- Счетчики воды и их показания

## Установка и запуск

1. Установите зависимости:
```bash
npm install
```

2. Настройте базу данных:
   - Создайте файл `.env` на основе `.env.example`
   - Укажите `DATABASE_URL` для подключения к PostgreSQL
   - Укажите `NEXTAUTH_SECRET` для безопасности

3. Инициализируйте базу данных:
```bash
npx prisma generate
npx prisma db push
```

4. Запустите dev сервер:
```bash
npm run dev
```

5. Откройте [http://localhost:3000](http://localhost:3000)

## Скрипты

- `npm run dev` - Запуск dev сервера
- `npm run build` - Сборка production версии
- `npm run start` - Запуск production сервера
- `npm run db:generate` - Генерация Prisma Client
- `npm run db:push` - Применение изменений схемы к БД
- `npm run db:migrate` - Создание миграции
- `npm run db:studio` - Открытие Prisma Studio

## Структура проекта

```
├── app/                    # Next.js App Router
│   ├── api/               # API роуты
│   ├── dashboard/         # Страницы личного кабинета
│   ├── services/          # Страница услуг
│   ├── login/             # Страница входа
│   ├── register/          # Страница регистрации
│   └── layout.tsx         # Корневой layout
├── components/            # React компоненты
│   ├── ui/               # UI компоненты (shadcn/ui)
│   └── layout/           # Компоненты layout
├── lib/                   # Утилиты и хелперы
│   ├── prisma.ts         # Prisma Client
│   └── auth.ts           # Функции аутентификации
├── prisma/               # Prisma схема
│   └── schema.prisma     # Схема базы данных
└── public/               # Статические файлы
```

## Безопасность

- Пароли хешируются с помощью bcrypt
- JWT токены для сессий
- Валидация данных с помощью Zod
- Защита API роутов

## Лицензия

MIT







