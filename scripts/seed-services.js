const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();

async function seedServices() {
  const services = [
    {
      title: "–°—Ç–∞—Ç—å –∞–±–æ–Ω–µ–Ω—Ç–æ–º",
      description: "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–∏—Å—Ç–µ–º–µ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–æ–¥–æ—Å–Ω–∞–±–∂–µ–Ω–∏—è. –í–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–æ–Ω—Ç–∞–∂ –∏ –ø—É—Å–∫–æ–Ω–∞–ª–∞–¥–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã.",
      category: "–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ",
      price: 15000,
      isActive: true,
    },
    {
      title: "–†–µ–º–æ–Ω—Ç –≤–æ–¥–æ–ø—Ä–æ–≤–æ–¥–Ω—ã—Ö —Å–µ—Ç–µ–π",
      description: "–ê–≤–∞—Ä–∏–π–Ω—ã–π –∏ –ø–ª–∞–Ω–æ–≤—ã–π —Ä–µ–º–æ–Ω—Ç –≤–æ–¥–æ–ø—Ä–æ–≤–æ–¥–Ω—ã—Ö —Å–µ—Ç–µ–π, –∑–∞–º–µ–Ω–∞ —Ç—Ä—É–±, —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ç–µ—á–µ–∫.",
      category: "—Ä–µ–º–æ–Ω—Ç",
      price: null,
      isActive: true,
    },
    {
      title: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—á–µ—Ç—á–∏–∫–æ–≤ –≤–æ–¥—ã",
      description: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–æ–≤–µ—Ä–∫–∞ —Å—á–µ—Ç—á–∏–∫–æ–≤ —Ö–æ–ª–æ–¥–Ω–æ–π –∏ –≥–æ—Ä—è—á–µ–π –≤–æ–¥—ã. –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏–±–æ—Ä–æ–≤ —É—á–µ—Ç–∞.",
      category: "—É—Å—Ç–∞–Ω–æ–≤–∫–∞",
      price: 5000,
      isActive: true,
    },
    {
      title: "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤",
      description: "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º –≤–æ–¥–æ—Å–Ω–∞–±–∂–µ–Ω–∏—è, –≤–æ–¥–æ–æ—Ç–≤–µ–¥–µ–Ω–∏—è, —Ç–∞—Ä–∏—Ñ–∞–º –∏ –ø—Ä–∞–≤–∏–ª–∞–º –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.",
      category: "–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è",
      price: null,
      isActive: true,
    },
    {
      title: "–ü–µ—Ä–µ–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–∞",
      description: "–ü–µ—Ä–µ–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–∞ –Ω–∞ –≤–æ–¥–æ—Å–Ω–∞–±–∂–µ–Ω–∏–µ –ø—Ä–∏ —Å–º–µ–Ω–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞—Ö.",
      category: "–¥–æ–∫—É–º–µ–Ω—Ç—ã",
      price: null,
      isActive: true,
    },
    {
      title: "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –≤–æ–¥—ã",
      description: "–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –≤–æ–¥—ã –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–∞–Ω–∏—Ç–∞—Ä–Ω—ã–º –Ω–æ—Ä–º–∞–º –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º.",
      category: "–∞–Ω–∞–ª–∏–∑",
      price: 3000,
      isActive: true,
    },
    {
      title: "–û—Ç–∫–∞—á–∫–∞ –∏ –≤—ã–≤–æ–∑ —Å—Ç–æ—á–Ω—ã—Ö –≤–æ–¥",
      description: "–£—Å–ª—É–≥–∏ –∞—Å—Å–µ–Ω–∏–∑–∞—Ç–æ—Ä–∞ –ø–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º —Ç–∞—Ä–∏—Ñ–∞–º –¥–ª—è –¥–æ–º–æ–≤, –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –∫ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –∫–∞–Ω–∞–ª–∏–∑–∞—Ü–∏–∏. –†–∞–±–æ—Ç–∞–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ, –±—ã—Å—Ç—Ä–æ –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ.",
      category: "—Ä–µ–º–æ–Ω—Ç",
      price: null,
      isActive: true,
    },
  ];

  try {
    console.log('üå± –°–æ–∑–¥–∞–Ω–∏–µ —É—Å–ª—É–≥...');
    
    for (const service of services) {
      const existing = await prisma.service.findFirst({
        where: { title: service.title },
      });

      if (!existing) {
        await prisma.service.create({
          data: service,
        });
        console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–∞ —É—Å–ª—É–≥–∞: ${service.title}`);
      } else {
        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —É—Å–ª—É–≥—É, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞
        await prisma.service.update({
          where: { id: existing.id },
          data: { 
            isActive: true,
            description: service.description,
            category: service.category,
            price: service.price,
          },
        });
        console.log(`‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —É—Å–ª—É–≥–∞: ${service.title} (–∞–∫—Ç–∏–≤–Ω–∞: ${existing.isActive ? '–¥–∞' : '—Ç–µ–ø–µ—Ä—å –¥–∞'})`);
      }
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —É—Å–ª—É–≥–∏ "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ"
    let techService = await prisma.service.findFirst({
      where: {
        OR: [
          { id: "tehnologicheskoe-prisoedinenie" },
          { title: { contains: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ", mode: "insensitive" } },
        ],
      },
    });

    if (!techService) {
      techService = await prisma.service.create({
        data: {
          id: "tehnologicheskoe-prisoedinenie",
          title: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ",
          description: "–ó–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–¥–∞—á—É —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —É—Å–ª–æ–≤–∏–π –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ) –∫ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º —Ö–æ–ª–æ–¥–Ω–æ–≥–æ –≤–æ–¥–æ—Å–Ω–∞–±–∂–µ–Ω–∏—è –∏ (–∏–ª–∏) –≤–æ–¥–æ–æ—Ç–≤–µ–¥–µ–Ω–∏—è",
          category: "–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ",
          isActive: true,
        },
      });
      console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–∞ —É—Å–ª—É–≥–∞: ${techService.title}`);
    } else if (!techService.isActive) {
      await prisma.service.update({
        where: { id: techService.id },
        data: { isActive: true },
      });
      console.log(`‚úÖ –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞ —É—Å–ª—É–≥–∞: ${techService.title}`);
    }

    console.log('\n‚úÖ –í—Å–µ —É—Å–ª—É–≥–∏ —Å–æ–∑–¥–∞–Ω—ã!');
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞:', error);
  } finally {
    await prisma.$disconnect();
  }
}

seedServices();





